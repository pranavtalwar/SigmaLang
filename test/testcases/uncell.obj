[ contents =  0, 
  set = {x} \ n -> var y = clone(x); (x.undo <~ y).contents <~  n, 
  get = {this}  this.contents, 
  undo = {this} this
].set(5).set(6).undo.get
